<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.24.2">
    <meta name="project" content="green_light v0.1.0">

    <title>Green Light — green_light v0.1.0</title>
    <link rel="stylesheet" href="dist/elixir-a172fe91e725dcb259e2.css" />

    <script src="dist/sidebar_items-11e8a62349.js"></script>

      <script src="docs_config.js"></script>

    <script async src="dist/app-f27ff079945e43879c46.js"></script>


  </head>
  <body data-type="extras">
    <script>

      try {
        if (localStorage.getItem('night-mode') === 'true') {
          document.body.classList.add('night-mode');
        }
      } catch (error) { }
    </script>

<div class="main">

<button class="sidebar-button sidebar-toggle">
  <span class="icon-menu" title="Collapse/expand sidebar"></span>
</button>

<section class="sidebar">
  <form class="sidebar-search" action="search.html">
    <button type="submit" class="search-button" aria-label="Submit Search">
      <span class="icon-search" aria-hidden="true" title="Submit search"></span>
    </button>
    <button type="button" tabindex="-1" class="search-close-button" aria-label="Cancel Search">
      <span class="icon-cross" aria-hidden="true" title="Cancel search"></span>
    </button>
    <label class="search-label">
      <input name="q" type="text" class="search-input" placeholder="Search..." aria-label="Input your search terms" autocomplete="off" />
    </label>
  </form>

  <div class="autocomplete">
    <div class="autocomplete-results">
    </div>
  </div>

  <div class="sidebar-header">
    <div class="sidebar-projectDetails">
      <a href="readme.html" class="sidebar-projectName">
green_light
      </a>
      <strong class="sidebar-projectVersion">
        v0.1.0
      </strong>
    </div>

  </div>

  <ul class="sidebar-listNav">
    <li><a id="extras-list-link" href="#full-list">Pages</a></li>

      <li><a id="modules-list-link" href="#full-list">Modules</a></li>


  </ul>
  <div class="gradient"></div>
  <ul id="full-list" class="sidebar-fullList"></ul>
</section>

<section class="content">
  <div class="content-outer">
    <div id="content" class="content-inner">

<h1>Green Light</h1><p>The Green Light framework is an authorization system that has the following goals:</p><ul><li>Secure by default: deny by default, require explicit authorizations grants</li><li>Rely on automation, not discipline</li><li>Clear auditing (understandable by stakeholders)</li><li>Defense in depth: limit impact of security flaws by having several layers of protection</li></ul><p>The authorization system is comprised of several parts that work together to
provide this functionality. At the core of the system there is Role Based Access
Control (RBAC).</p><h2 id="terminology" class="section-heading">
  <a href="#terminology" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Terminology
</h2>
<p>This system makes use of the following terminology.</p><h3 id="permission" class="section-heading">
  <a href="#permission" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Permission
</h3>
<p>A permission is a unique operation in the system. The application code that
needs protection only works in terms of permissions. It is up to the
authorization system to determine if the current user has the required
permission.</p><h3 id="entity" class="section-heading">
  <a href="#entity" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Entity
</h3>
<p>Anything that can be accessed. The concrete implementation of this concept is an Ecto struct.</p><h3 id="principal" class="section-heading">
  <a href="#principal" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Principal
</h3>
<p>The principal is another name for user. It is given a distinct name since it can
also be used to represent other authenticated systems. An example of this is an
authorized application that acts on a users behalf. By making this a distinct
concept it allows those kind of applications to operate with a subset of
permissions.</p><h3 id="role" class="section-heading">
  <a href="#role" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Role
</h3>
<p>A role is an Elixir atom that maps on to a set of permissions.</p><h3 id="permission-map" class="section-heading">
  <a href="#permission-map" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Permission Map
</h3>
<p>The permission map (<a href="GreenLight.PermissionMap.html"><code class="inline">GreenLight.PermissionMap</code></a>) is the datastructure
which is used to map roles to permissions.</p><h3 id="role-assignment" class="section-heading">
  <a href="#role-assignment" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Role Assignment
</h3>
<p>A role assignment (<code class="inline">GreenLight.RoleAssignment</code>) registers the assignment
of a role to a principal on a specific entity. This is what makes having local
roles possible.</p><h2 id="plug-middleware" class="section-heading">
  <a href="#plug-middleware" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Plug Middleware
</h2>
<h3 id="entity-loaders" class="section-heading">
  <a href="#entity-loaders" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Entity Loaders
</h3>
<p>The <a href="GreenLight.Plug.html"><code class="inline">GreenLight.Plug</code></a> authorization module needs entities to enforce it's access rules. The entity loaders are responsible for taking Plug <code class="inline">path_param</code> and returning the entities.</p><h3 id="authorization" class="section-heading">
  <a href="#authorization" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Authorization
</h3>
<p>The <a href="GreenLight.Plug.html"><code class="inline">GreenLight.Plug</code></a> automatically enforces permission checks for all
controller actions.</p><h2 id="phoenix-integration" class="section-heading">
  <a href="#phoenix-integration" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Phoenix Integration
</h2>
<p>Phoenix integration is available to make usage of the authorization system convenient.</p><h3 id="controller-action-access-management" class="section-heading">
  <a href="#controller-action-access-management" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Controller Action Access Management
</h3>
<p>All Phoenix controllers are automatically protected by the Plug middleware.
Access to actions is denied unless a principal has sufficient roles to access
the action. Each action is a seperate permission. Without a mapping of
permissions to roles all access is denied.</p><p>The <a href="GreenLight.Permissions.html#grant_actions/2"><code class="inline">GreenLight.Permissions.grant_actions/2</code></a> helper macro is provided to setup
such a mapping.</p><h3 id="view-helpers" class="section-heading">
  <a href="#view-helpers" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  View Helpers
</h3>
<p>The Phoenix views are extended with the <code class="inline">GreenLight.can?/3</code>
helper. This allows for easy checking of permissions within a temlate.</p><h2 id="mix-tasks" class="section-heading">
  <a href="#mix-tasks" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Mix Tasks
</h2>
<p>The system comes with several mix tasks to inspect the state of the
authorization system.</p><h3 id="permissions" class="section-heading">
  <a href="#permissions" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Permissions
</h3>
<p>The <code class="inline">mix grlt.perms</code> task shows a table of all permissions that have been
defined with their associated roles. All permissions and roles are sorted
alphabetically.</p>
<div class="bottom-actions">
  <div class="bottom-actions-item">

      <a href="api-reference.html" class="bottom-actions-button" rel="prev">
        <span class="subheader">
          ← Previous Page
        </span>
        <span class="title">
API Reference
        </span>
      </a>

  </div>
  <div class="bottom-actions-item">

  </div>
</div>

      <footer class="footer">
        <p>
          <span class="line">
            Built using
            <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener">ExDoc</a> (v0.24.2) for the
            <a href="https://elixir-lang.org" title="Elixir" target="_blank">Elixir programming language</a>.
          </span>
          <span class="line">
            Designed by
            <a href="https://twitter.com/dignifiedquire" target="_blank" rel="noopener" title="@dignifiedquire">Friedel Ziegelmayer</a>.
          </span>
        </p>
        <p>

            <a href="api-reference.html" title="API reference" class="line footer-button">API Reference</a>

          <button class="line footer-button display-shortcuts-help">
            Display keyboard shortcuts
          </button>
          <button class="line footer-button night-mode-toggle">
            Toggle night mode
          </button>
          <button class="line footer-button display-quick-switch">
            Go to a HexDocs package
          </button>
          <button class="line footer-button tooltips-toggle">
            <span class="tooltips-option-disable">Disable tooltips</span>
            <span class="tooltips-option-enable">Enable tooltips</span>
          </button>
        </p>
      </footer>
    </div>
  </div>
</section>
</div>


  </body>
</html>
